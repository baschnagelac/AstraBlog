@model AstraBlog.Models.BlogPost
@using AstraBlog.Enums;
@using AstraBlog.Services.Interfaces

@inject IImageService _ImageService
@inject IBlogPostService _BlogPostService

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>


<!-- Start Post Single Wrapper  -->
<div class="post-single-wrapper axil-section-gap bg-color-white">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <!-- Start Banner Area -->
                <div class="banner banner-single-post post-formate post-layout axil-section-gapBottom">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12">
                                <!-- Start Single Slide  -->
                                <div class="content-block">
                                    <!-- Start Post Content  -->
                                    <div class="post-content">
                                        <div class="post-cat">
                                            <div class="post-cat-list">
                                                <a class="hover-flip-item-wrapper" href="#">
                                                    <span class="hover-flip-item">
                                                        <span data-text="FEATURED POST">FEATURED POST</span>
                                                    </span>
                                                </a>
                                            </div>
                                        </div>
                                        <h1 class="titl">@Model.Title</h1>
                                        <h2 class="categ fs-3">@Model.Category.Name</h2>
                                        <!-- Post Meta  -->
                                        <div class="post-meta-wrapper">
                                            <div class="post-meta">
                                                <div class="post-author-avatar border-rounded">
                                                    <img src="assets/images/post-images/author/author-image-3.png" alt="Author Images">
                                                </div>
                                                <div class="content">
                                                    <h6 class="post-author-name">
                                                        <a class="hover-flip-item-wrapper" href="author.html">
                                                            <span class="hover-flip-item">
                                                                <span data-text="Anna Baschnagel">Anna Baschnagel</span>
                                                            </span>
                                                        </a>
                                                    </h6>
                                                    <ul class="post-meta-list">
                                                        <li>@Model.Created</li>
                                                        <li>@Model.Comments.Count</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <ul class="social-share-transparent justify-content-end">
                                                <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                                                <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                                                <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                                                <li><a href="#"><i class="fas fa-link"></i></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <!-- End Post Content  -->
                                </div>
                                <!-- End Single Slide  -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Banner Area -->

                <div class="axil-post-details">
                    <p class="has-medium-font-size">@Model.Abstract</p>
                    <figure class="wp-block-image">
                        <img src="@_ImageService.ConvertByteArrayToFile(Model.ImageData!,Model.ImageType!,(int)DefaultImage.BlogPostImage)" alt="Post Images">
                        <figcaption>Photo Caption Goes Here</figcaption>
                    </figure>
                    <p>@Html.Raw(Model.Content)</p>
                   

                    <div class="tagcloud">
                        @foreach (Tag tag in await _BlogPostService.GetTagsAsync())
                        {
                            <a href="#">@tag.Name</a> @*make a link to all posts with tag*@
                        }
                        
                    </div>





                    <!-- Start Author  -->
                    <partial name="_AuthorArea" />
                    <!-- End Author  -->
                    <!-- Start Comment Form Area  -->


                    <div class="axil-comment-area">
                        <div class="axil-total-comment-post">
                            <div class="title">
                                <h4 class="mb--0">@Model.Comments.Count Comments</h4>
                                @*<partial name="_CommentCreate" />*@
                            </div>
                            <div class="add-comment-button cerchio">
                                
                                <a class="axil-button button-rounded" asp-action="Create.Comment" asp-route-id="@Model.Comments" tabindex="0"><span>Add Your Comment </span></a>
                            </div>
                        </div>




                        @*                        <!-- Start Comment Respond  -->
                        <div class="comment-respond">
                        <h4 class="title">Post a comment</h4>
                        <form asp-action="Create" asp-route-id="@Model.Comments">
                        <p class="comment-notes">
                        <span id="email-notes">
                        Your email address will not be
                        published.
                        </span> Required fields are marked <span class="required">*</span>
                        </p>
                        <div class="row row--10">
                        <div class="col-lg-4 col-md-4 col-12">
                        <div class="form-group">
                        <label for="name">Name</label>
                        <input id="name" type="text">
                        </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-12">
                        <div class="form-group">
                        <label for="email">Your Email</label>
                        <input id="email" type="email">
                        </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-12">
                        <div class="form-group">
                        <label for="website">Your Website</label>
                        <input id="website" type="text">
                        </div>
                        </div>
                        <div class="col-12">
                        <div class="form-group">
                        <label for="message">Leave a Reply</label>
                        <textarea id="message" name="message"></textarea>
                        </div>
                        </div>
                        <div class="col-lg-12">
                        <p class="comment-form-cookies-consent">
                        <input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes">
                        <label for="wp-comment-cookies-consent">
                        Save my name, email, and
                        website in this browser for the next time I comment.
                        </label>
                        </p>
                        </div>
                        <div class="col-lg-12">
                        <div class="form-submit cerchio">
                        <input name="submit" type="submit" id="submit" class="axil-button button-rounded" value="Post Comment">
                        </div>
                        </div>
                        </div>
                        </form>
                        </div>
                        <!-- End Comment Respond  -->

                        <!-- Start Comment Area  -->
                        <div class="axil-comment-area">
                        <h4 class="title">2 comments</h4>
                        <ul class="comment-list">
                        <!-- Start Single Comment  -->
                        <li class="comment">
                        <div class="comment-body">
                        <div class="single-comment">
                        <div class="comment-img">
                        <img src="assets/images/post-images/author/author-b2.png" alt="Author Images">
                        </div>
                        <div class="comment-inner">
                        <h6 class="commenter">
                        <a class="hover-flip-item-wrapper" href="#">
                        <span class="hover-flip-item">
                        <span data-text="Cameron Williamson">Cameron Williamson</span>
                        </span>
                        </a>
                        </h6>
                        <div class="comment-meta">
                        <div class="time-spent">Nov 23, 2018 at 12:23 pm</div>
                        <div class="reply-edit">
                        <div class="reply">
                        <a class="comment-reply-link hover-flip-item-wrapper" href="#">
                        <span class="hover-flip-item">
                        <span data-text="Reply">Reply</span>
                        </span>
                        </a>
                        </div>
                        </div>
                        </div>
                        <div class="comment-text">
                        <p class="b2">
                        Duis hendrerit velit scelerisque felis tempus, id porta
                        libero venenatis. Nulla facilisi. Phasellus viverra
                        magna commodo dui lacinia tempus. Donec malesuada nunc
                        non dui posuere, fringilla vestibulum urna mollis.
                        Integer condimentum ac sapien quis maximus.
                        </p>
                        </div>
                        </div>
                        </div>
                        </div>
                        <ul class="children">
                        <!-- Start Single Comment  -->
                        <li class="comment">
                        <div class="comment-body">
                        <div class="single-comment">
                        <div class="comment-img">
                        <img src="assets/images/post-images/author/author-b3.png" alt="Author Images">
                        </div>
                        <div class="comment-inner">
                        <h6 class="commenter">
                        <a class="hover-flip-item-wrapper" href="#">
                        <span class="hover-flip-item">
                        <span data-text="Rahabi Khan">Rahabi Khan</span>
                        </span>
                        </a>
                        </h6>
                        <div class="comment-meta">
                        <div class="time-spent">
                        Nov 23, 2018 at 12:23 pm
                        </div>
                        <div class="reply-edit">
                        <div class="reply">
                        <a class="comment-reply-link hover-flip-item-wrapper" href="#">
                        <span class="hover-flip-item">
                        <span data-text="Reply">Reply</span>
                        </span>
                        </a>
                        </div>
                        </div>
                        </div>
                        <div class="comment-text">
                        <p class="b2">Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Suspendisse lobortis cursus lacinia. Vestibulum vitae leo id diam pellentesque ornare.</p>
                        </div>
                        </div>
                        </div>
                        </div>
                        </li>
                        <!-- End Single Comment  -->
                        </ul>
                        </li>
                        <!-- End Single Comment  -->
                        <!-- Start Single Comment  -->
                        <li class="comment">
                        <div class="comment-body">
                        <div class="single-comment">
                        <div class="comment-img">
                        <img src="assets/images/post-images/author/author-b2.png" alt="Author Images">
                        </div>
                        <div class="comment-inner">
                        <h6 class="commenter">
                        <a class="hover-flip-item-wrapper" href="#">
                        <span class="hover-flip-item">
                        <span data-text="Rahabi Khan">Rahabi Khan</span>
                        </span>
                        </a>
                        </h6>
                        <div class="comment-meta">
                        <div class="time-spent">Nov 23, 2018 at 12:23 pm</div>
                        <div class="reply-edit">
                        <div class="reply">
                        <a class="comment-reply-link hover-flip-item-wrapper" href="#">
                        <span class="hover-flip-item">
                        <span data-text="Reply">Reply</span>
                        </span>
                        </a>
                        </div>
                        </div>
                        </div>
                        <div class="comment-text">
                        <p class="b2">
                        Duis hendrerit velit scelerisque felis tempus, id porta
                        libero venenatis. Nulla facilisi. Phasellus viverra
                        magna commodo dui lacinia tempus. Donec malesuada nunc
                        non dui posuere, fringilla vestibulum urna mollis.
                        Integer condimentum ac sapien quis maximus.
                        </p>
                        </div>
                        </div>
                        </div>
                        </div>
                        </li>
                        <!-- End Single Comment  -->
                        </ul>
                        </div>
                        <!-- End Comment Area  -->*@
                    </div>
                    <!-- End Comment Form Area  -->
                </div>
            </div>
            <div class="col-lg-4">
                <!-- Start Sidebar Area  -->
                <partial name="_Sidebar" />
                <!-- End Sidebar Area  -->
            </div>
        </div>
    </div>
</div>































































@*<div>
    <h4>BlogPost</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Title)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Title)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Abstract)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Abstract)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Content)
        </dt>
        <dd class = "col-sm-10">
            @Html.Raw(Model.Content)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Created)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Created)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Updated)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Updated)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Slug)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Slug)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.IsDeleted)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.IsDeleted)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.IsPublished)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.IsPublished)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ImageData)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ImageData)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ImageType)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ImageType)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Category)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Category.Name)
        </dd>
    </dl>
</div>
<div>

    @*TODO: ADD PARTIAL SIDEBAR row column 8 and 4 -sb in 4 CHECKOUT template*@
<a class="m-3" asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
<a class="m-3" asp-action="Index">Back to List</a>

@* <form asp-action="Create" asp-controller="Comments" method="post">
        <div class="input-group">
            <input class="form-control" type="" name="comment"
                   placeholder="Search Term" />
            <input type="submit" class="btn btn-outline-primary" value="Search" />
        </div>
    </form>*@
@*</div>*@